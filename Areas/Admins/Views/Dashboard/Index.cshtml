@model Project.Models.DtosForAdmin.ViewModels.ViewCountVM
@{
    ViewData["Title"] = "Dashboard";

    int i = 1;
}
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>
<h1>Index</h1>
<link type="text/css" rel="stylesheet" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css"/>
<style>
    .rowsss{
        display:  flex;
        flex-direction: row;
    }
.highcharts-figure, .highcharts-data-table table {
    min-width:200px;
    max-width:800px;
    margin: 1em auto;
    
    margin-left: 20px !important;
}

.highcharts-data-table table {
	font-family: Verdana, sans-serif;
	border-collapse: collapse;
	border: 1px solid #EBEBEB;
	margin: 10px auto;
	text-align: center;
	width: 100%;
	max-width: 500px;
}
.highcharts-data-table caption {
    padding: 1em 0;
    font-size: 1.2em;
    color: #555;
}
.highcharts-data-table th {
	font-weight: 600;
    padding: 0.5em;
}
.highcharts-data-table td, .highcharts-data-table th, .highcharts-data-table caption {
    padding: 0.5em;
}
.highcharts-data-table thead tr, .highcharts-data-table tr:nth-child(even) {
    background: #f8f8f8;
}
.highcharts-data-table tr:hover {
    background: #f1f7ff;
}
</style>
<div class="container-fluid">
   
    <div class="row">
                        <div class="col-xl-12">
                            <div class="breadcrumb-holder">
                                <h1 class="main-title float-left">Dashboard</h1>
                                <ol class="breadcrumb float-right">
                                    <li class="breadcrumb-item">Home</li>
                                    <li class="breadcrumb-item active">Dashboard</li>
                                </ol>
                                <div class="clearfix"></div>
                            </div>

                        </div>
                    </div>
                    <!-- end row -->


                    <div class="row">
                        <div class="col-xs-12 col-md-6 col-lg-6 col-xl-3">
                            <div class="card-box noradius noborder bg-danger">
                                <i class="far fa-user float-right text-white"></i>
                                <h6 class="text-white text-uppercase m-b-20">Users</h6>
                                <h1 class="m-b-20 text-white counter">@Model.CountUser</h1>
                                <span class="text-white">1 Month</span>
                            </div>
                        </div>

                        <div class="col-xs-12 col-md-6 col-lg-6 col-xl-3">
                            <div class="card-box noradius noborder bg-purple">
                                <i class="fas fa-download float-right text-white"></i>
                                <h6 class="text-white text-uppercase m-b-20">Products</h6>
                                <h1 class="m-b-20 text-white counter">@Model.CountProduct</h1>
                                <span class="text-white">1 Month</span>
                            </div>
                        </div>

                        <div class="col-xs-12 col-md-6 col-lg-6 col-xl-3">
                            <div class="card-box noradius noborder bg-warning">
                                <i class="fas fa-shopping-cart float-right text-white"></i>
                                <h6 class="text-white text-uppercase m-b-20">Coint</h6>
                                <h1 class="m-b-20 text-white counter">$@Model.CountOrder</h1>
                                <span class="text-white">1 Month</span>
                            </div>
                        </div>

                        <div class="col-xs-12 col-md-6 col-lg-6 col-xl-3">
                            <div class="card-box noradius noborder bg-info">
                                <i class="far fa-envelope float-right text-white"></i>
                                <h6 class="text-white text-uppercase m-b-20">Turnover</h6>
                                <h1 class="m-b-20 text-white counter">$@Model.CountEmail</h1>
                                <span class="text-white">1 Month</span>
                            </div>
                        </div>
                    </div>
                    <!-- end row -->
                        <!-- end card-->
                        </div>
            <div class="rowsss">
            <figure class="highcharts-figure" style="width: 45%">
                <div id="container"></div>
                <p class="highcharts-description">
                    Sơ đồ thể hiện tổng sản phẩm và Coin trong 1 tháng.
                </p>
            </figure>
            
            <figure class="highcharts-figure"  style="width: 45%">
                <div id="container1"></div>
                <p class="highcharts-description">
                    Sơ đồ thống kê và quản lý sản phẩm.
                </p>
            </figure>
            </div>
 <div class="container-fluid">
    <div class="row">
        <div class="col-xl-12">
            <div class="breadcrumb-holder d-flex flex-row">
                <h1 class="main-title float-left">Top 10 Người Đấu giá nhiều nhất</h1>
                
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
                    
<div class="row">
    <div class="nav nav-tabs mb-4" id="nav-tab" role="tablist">
      @*<a class="nav-item nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-contact">Contact</a>*@
    </div>

        <div class="col-md-12">

            <table id="myTable" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th>Top</th>
                        <th>Người Sử dụng</th>
                        <th>Họ và tên</th>
                        <th>Số Lượng</th>
                        <th>Email</th>
                        <th>Xu</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.applicationUsers)
                    {
                        <tr role="row" class="odd">
                            <td>@i</td>
                            <td>@item.applicationUser.UserName</td>
                            <td>@(item.applicationUser.FirtsName+" "+item.applicationUser.LastName)</td>
                            <td>@item.CountTop</td>
                            <td>@(item.applicationUser.Email)</td>
                
                            <td style="text-align:left;"><span class="badge badge-info" style="background-color:red;font-size:18px;">$@item.applicationUser.coin</span></td>                         
                            <td>                            
                                <div class="d-flex flex-row">
                                </div>
                                
                            </td>
                            
                            </tr>
                        i++;
                    }
                </tbody>
            </table>

        </div>
    
</div>
</div>

            <script>
                Highcharts.chart('container', {
    chart: {
        type: 'line'
    },
    title: {
        text: 'Monthly Average Auction Web'
    },
    subtitle: {
        text: 'HightChart of CodeDream'
    },
    xAxis: {
        categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
    },
    yAxis: {
        title: {
            text: 'Auction Web ($)'
        }
    },
    plotOptions: {
        line: {
            dataLabels: {
                enabled: true
            },
            enableMouseTracking: false
        }
    },
    series: [{
        name: 'Product',

        data: [ @foreach(var pro in @Model.productChartDtos)
    {
        @(pro+",")
    }]
    }, {
        name: 'Coin',
    data: [ @foreach(var coin in @Model.CoinChartDtos)
    {
        @(coin+",")
    }]
    }]
});
                </script>
                <script>    
                // Create the chart
var pieColors = (function () {
    var colors = [],
        base = Highcharts.getOptions().colors[0],
        i;

    for (i = 0; i < 10; i += 1) {
        // Start out with a darkened base color (negative brighten), and end
        // up with a much brighter color
        colors.push(Highcharts.color(base).brighten((i - 3) / 7).get());
    }
    return colors;
}());

// Build the chart
Highcharts.chart('container1', {
    chart: {
        plotBackgroundColor: null,
        plotBorderWidth: null,
        plotShadow: false,
        type: 'pie'
    },
    title: {
        text: 'HightChart of CodeDream: 2021'
    },
    tooltip: {
        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
    },
    accessibility: {
        point: {
            valueSuffix: '%'
        }
    },
    plotOptions: {
        pie: {
            allowPointSelect: true,
            cursor: 'pointer',
            colors: pieColors,
            dataLabels: {
                enabled: true,
                format: '<b>{point.name}</b><br>{point.percentage:.1f} %',
                distance: -50,
                filter: {
                    property: 'percentage',
                    operator: '>',
                    value: 4
                }
            }
        }
    },
    series: [{
        name: 'Share',
        data: [
            { name: 'Product Prepare', y: @Model.productStatusPrepare  },
            { name: 'Product Statart', y: @Model.productStatusStart },
            { name: 'Product End', y: @Model.productStatusEnd },
            { name: 'Product Confirm', y: @Model.productStatusAccept }
            
        ]
    }]
});
                </script>

